(function(n,t){var i,r,u,f,e;HttpClient=function(t){var i=this;this.completed=null;this.errorHandler=null;this.errorMessage="";this.async=!0;this.evalResult=!1;this.contentType="application/x-www-form-urlencoded";this.accepts=null;this.method="GET";this.timeout=2e4;this.headers={};n.extend(i,t);this.appendHeader=function(n,t){i.headers[n]=t};this.send=function(t,r,u,f){return u=u||i.completed,f=f||i.errorHandler,n.ajax({url:t,data:r,type:r?"POST":i.method,processData:!1,contentType:i.contentType,timeout:i.timeout,dataType:"text",global:!1,async:i.async,beforeSend:function(n){for(var t in i.headers)n.setRequestHeader(t,i.headers[t]);i.accepts&&n.setRequestHeader("Accept",i.accepts)},success:function(n){var t=null;if(i.evalResult)try{n=JSON.parseWithDate(n);n&&n.hasOwnProperty("d")&&(n=n.d)}catch(r){t=new CallbackException(r)}if(t||n&&(n.isCallbackError||n.iscallbackerror)){n&&(t=n);f&&f(t,i);return}u&&u(n,i)},error:function(n,t){var r=null,u;n.readyState==4&&(u=n.responseText,u&&u.charAt(0)=="{"&&(r=JSON.parseWithDate(u)),r||(r=n.status&&n.status!=200?new CallbackException(n.status+" "+n.statusText):new CallbackException("Callback Error: "+t),r.detail=u));r||(r=new CallbackException("Callback Error: "+t));f&&f(r,i,n)}})};this.returnError=function(n){var t=new CallbackException(n);i.errorHandler&&i.errorHandler(t,i)}};ServiceProxy=function(t){var i=this;this.isWcf=!0;this.timeout=2e4;this.method="POST";this.serviceUrl=t;typeof t=="object"&&n.extend(this,t);this.invoke=function(n,t,r,u){var f=null,e,o;i.method!="GET"&&(f=i.isWcf?JSON.stringifyWcf(t):JSON.stringify(t));e=i.serviceUrl+n;o=new HttpClient({contentType:"application/json",accepts:"application/json,text/*",method:i.method,evalResult:!0,timeout:i.timeout});o.send(e,f,r,u)}};AjaxMethodCallback=function(t,i,r){var u=this;this.controlId=t;this.postbackMode="PostMethodParametersOnly";this.serverUrl=i;this.formName=null;this.resultMode="json";this.timeout=2e4;this.completed=null;this.errorHandler=null;n.extend(this,r);this.Http=null;this.callMethod=function(t,i,r,f){var s,e,h,o,c;if(u.completed=r,u.errorHandler=f,s=new HttpClient({timeout:u.timeout,evalResult:!0,accepts:"application/json,text/*"}),u.Http=s,e={},u.resultMode=="msajax")e=JSON.stringifyWithDates(i);else{if(h=0,i.length)for(h=i.length,o=0;o<h;o++)e["Parm"+(o+1).toString()]=JSON.stringify(i[o]);n.extend(e,{CallbackMethod:t,CallbackParmCount:h,__WWEVENTCALLBACK:u.controlId});e=n.param(e)+"&"}if(c=u.formName||(document.forms.length>0?document.forms[0].id:""),u.postbackMode=="Post")e+=n("#"+c).serialize();else if(u.postbackMode=="PostNoViewstate")e+=n("#"+c).serializeNoViewState();else if(this.postbackMode=="Get")return Url=this.serverUrl,Url+=Url.indexOf("?")>-1?e:"?"+e,s.send(Url,null,u.onHttpCallback,u.onHttpCallback);return s.send(this.serverUrl,e,u.onHttpCallback,u.onHttpCallback)};this.onHttpCallback=function(n){if(n&&(n.isCallbackError||n.iscallbackerror)){u.errorHandler&&u.errorHandler(n,u);return}u.completed!=null&&u.completed(n,u)}};ajaxJson=function(t,i,r,u,f){var h=i,o,e,s;return typeof r=="object"&&(f=r,r=null,u=null),o="POST",i||(o="GET"),e={method:o,contentType:"application/json",accepts:"application/json",noPostEncoding:!1},n.extend(e,f),s=new HttpClient(e),s.evalResult=!0,i===null||e.noPostEncoding||e.method!=="POST"&&e.method!=="PUT"&&e.method!="PATCH"||(h=JSON.stringify(i)),s.send(t,h,r,u)};ajaxCallMethod=function(n,t,i,r,u,f){var e=new AjaxMethodCallback(null,n,f);return e.callMethod(t,i,r,u)};n.postJSON=function(t,i,r,u,f){var e={method:"POST",evalResult:!0},o;return n.extend(e,f),o=new HttpClient(e),typeof i=="object"&&(i=n.param(i)),o.send(t,i,r,u)};n.fn.serializeObject=function(){var i={},r=this.serializeArray();return n.each(r,function(){i[this.name]!==t?(i[this.name].push||(i[this.name]=[i[this.name]]),i[this.name].push(this.value||"")):i[this.name]=this.value||""}),i};onPageError=function(n){showStatus(n.message||n.Message,6e3,!0)};CallbackException=function(n,t,i){this.isCallbackError=!0;this.status=i?i:500;typeof n=="object"?n.message?this.message=n.message:n.Message&&(this.message=n.Message):this.message=n;this.detail=t?t:null};StatusBar=function(t,i){var r=this,u=null;r.elementId="_showstatus";r.prependMultiline=!0;r.closable=!1;r.afterTimeoutText=null;r.autoClose=!1;r.noEffects=!1;r.effectSpeed=500;r.cssClass="statusbar";r.highlightClass="statusbarhighlight";r.closeButtonClass="statusbarclose";r.additive=!1;r.interval=0;t&&(u=n(t));i&&n.extend(this,i);u||(u=n("<div id='_statusbar' class='"+r.cssClass+"'><div class='"+r.closeButtonClass+"'>"+(r.closable?"<\/div><\/div>":"")).appendTo(document.body).hide());r.closeable&&n("."+r.cssClass).click(function(){r.hide()});this.show=function(t,i,f){var e,o;return t=="hide"?r.hide():(f===!0?u.addClass(r.highlightClass):u.removeClass(r.highlightClass),r.additive?(e=n("<div style='margin-bottom: 2px;'>"+t+"<\/div>"),r.prependMultiline?u.prepend(e):u.append(e)):r.closable?(o=u.find("div.statusbarclose"),u.text(t).prepend(o),o.click(r.hide)):u.text(t),u.is(":visible")||r.noEffects?u.show():u.slideDown(r.effectSpeed),u.maxZIndex(),i&&(r.interval!=0&&clearInterval(r.interval),r.interval=setTimeout(function(){r.interval=0;u.removeClass(r.highlightClass);r.afterTimeoutText?r.show(r.afterTimeoutText):r.autoClose&&r.hide()},i)),r)};this.hide=function(){return r.noEffects?u.hide():u.slideUp(r.effectSpeed),u.removeClass(r.highlightClass),r};this.release=function(){u&&n(u).remove()}};__statusbar=null;showStatus=function(n,t,i,r){if(typeof n=="object"){__statusbar&&__statusbar.release();__statusbar=new StatusBar(null,n);return}__statusbar||(__statusbar=new StatusBar);__statusbar.show(n,t,i,r)};n.fn.centerInClient=function(t){var i={forceAbsolute:!1,container:window,completed:null,centerOnceOnly:!1,keepCentered:!1};return n.extend(i,t),this.each(function(){var t=n(this),r,e,o;if(i.centerOnceOnly){if(t.data("_centerOnce"))return;t.data("_centerOnce",!0)}else t.data("_centerOnce",null);i.keepCentered&&(t.data("_keepCentered")||(t.data("_keepCentered",!0),n(window).resize(function(){t.is(":visible")&&setTimeout(function(){t.centerInClient(i)})})));r=n(i.container);e=i.container==window;i.forceAbsolute&&(e?t.remove().appendTo("body"):t.remove().appendTo(r[0]));t.css("position","absolute");var u=(e?r.width():r.outerWidth())/2-t.outerWidth()/2,f=(e?r.height():r.outerHeight())/2.2-t.outerHeight()/2;u=u+r.scrollLeft();f=f+r.scrollTop();f=f<5?5:f;u=u<5?5:u;t.css({left:u,top:f});o=t.css("zIndex");o&&o!="auto"||t.css("zIndex",1);i.completed&&i.completed(this)})};sumDimensions=function(n){for(var i=0,t=1;t<arguments.length;t++)i+=Math.max(parseInt(n.css(arguments[t]),10)||0,0);return i};debounce=function(n,t,i){var r;return function(){var u=this,f=arguments,e=function(){r=null;i||n.apply(u,f)},o=i&&!r;clearTimeout(r);r=setTimeout(e,t);o&&n.apply(u,f)}};n.fn.makeAbsolute=function(t){return this.each(function(){var i=n(this),u=!0,r;i.is(":visible")||(i.show(),u=!1);r=i.position();u||i.hide();i.css({position:"absolute",marginLeft:0,marginTop:0,top:r.top,left:r.left});t&&i.remove().appendTo("body")})};n.fn.slideUpTransition=function(t){return t=n.extend(t,{cssHiddenClass:"height-transition-hidden"}),this.each(function(){var i=n(this);i.css("max-height","0");i.addClass(t.cssHiddenClass)})};n.fn.slideDownTransition=function(t){return t=n.extend(t,{cssHiddenClass:"height-transition-hidden"}),this.each(function(){var i=n(this),r;i.removeClass(t.cssHiddenClass);i.css("max-height","none");r=i.outerHeight();i.css("max-height","0");setTimeout(function(){i.css({"max-height":r})},1)})};n.fn.stretchToBottom=function(t){var i={container:n(window),bottomOffset:0,autoResize:!1};return t&&t.length?i.container=t:n.extend(i,t),i.autoResize==!0&&($els=this,n(i.container).resize(function(){$els.stretchToBottom({container:i.container,autoResize:!1})})),this.each(function(){var e,t;$el=n(this);e=$el.css("position");$el.makeAbsolute();var r=i.container,u=n(window).innerHeight(),o=parseInt($el.css("top")),f=0;r[0]!=window?(t=sumDimensions(r,"borderTopWidth","borderBottomWidth","paddingBottom","paddingTop")+sumDimensions($el,"borderTopWidth","borderBottomWidth","marginBottom","marginTop","paddingBottom","paddingTop"),t=t?t:1,u=r.offset().top+r.outerHeight(),f=u-o-Math.ceil(t)-i.bottomOffset):(t=sumDimensions($el,"borderTopWidth","borderBottomWidth","marginBottom","marginTop"),f=u-o-Math.ceil(t)-i.bottomOffset);$el.css("position",e).css("height",f)})};n.fn.moveToMousePosition=function(t,i){var r={left:0,top:0};return n.extend(r,i),this.each(function(){var i=n(this);i.css({left:t.pageX+r.left,top:t.pageY+r.top,position:"absolute"})})};n.fn.tooltip=function(t,i,r){function f(t,i){var u=this,e=n(t),f,r;this.cssClass="";this.onRelease=null;n.extend(u,i);f=e.get(0);r=n("#"+f.id+"_tt");this.show=function(t,i,o){r.length>0&&r.remove();r=n("<div>").attr("id",f.id+"_tt");n(document.body).append(r);r.css({position:"absolute",display:"none",zIndex:1e3});u.cssClass?r.addClass(u.cssClass):r.css({background:"cornsilk",border:"solid 1px gray",fontSize:"8pt",padding:2,"border-radius":"2px","box-shadow":"1px 1px 1px #535353"});o?r.html(t):r.text(t);var h=e.position(),c=h.left+5,l=h.top+e.outerHeight()-1,s=r.width();s>400&&(s=400);r.css({left:c,top:l,width:s});r.show();i&&i>0&&setTimeout(function(){u.onRelease&&u.onRelease.call(f,u);u.hide()},i)};this.hide=function(){r.length>0&&r.fadeOut("slow")}}var u={cssClass:"tooltip",isHtml:!1,onRelease:null};return n.extend(u,r),this.each(function(){var n=new f(this,u);if(t=="hide"){n.hide();return}n.show(t,i,u.isHtml)})};n.fn.watch=function(i){function u(t,i,u){t.each(function(){var i=n(this),t;window.MutationObserver?(t=i.data("__watcherObserver"+r.id),t==null&&(t=new MutationObserver(u.fnc),i.data("__watcherObserver"+r.id,t)),t.observe(this,{attributes:!0,subtree:r.watchChildren,childList:r.watchChildren,characterData:!0})):u.intervalId=setInterval(u.fnc,r.interval)})}function f(i,r,f){var s=n(this),e=s.data(i),a,l,o,h,c;if(e&&(a=this,e.func)){for(l=!1,o=0,o;o<e.props.length;o++)if((h=e.props[o],c="",c=h.startsWith("attr_")?s.attr(h.replace("attr_","")):h.startsWith("prop_")?s.prop(h.replace("prop_","")):s.css(h),c!=t)&&e.vals[o]!==c){e.vals[o]=c;l=!0;break}l&&(s.unwatch(i),e.func.call(a,e,o,r,f),u(s,i,e))}}var r=n.extend({properties:null,interval:100,id:"_watcher_"+(new Date).getTime(),watchChildren:!1,callback:null},i);return this.each(function(){var e=this,i=n(this),o=function(n,t){f.call(e,r.id,n,t)},t={id:r.id,props:r.properties.split(","),vals:[r.properties.split(",").length],func:r.callback,fnc:o,origProps:r.properties,interval:r.interval,intervalId:null};n.each(t.props,function(n){var r=t.props[n];t.vals[n]=t.props[n].startsWith("attr_")?i.attr(r.replace("attr_","")):r.startsWith("prop_")?i.prop(r.replace("props_","")):i.css(r)});i.data(r.id,t);u(i,r.id,t)})};n.fn.unwatch=function(t){return this.each(function(){var i=n(this),u=i.data(t),r;try{window.MutationObserver?(r=i.data("__watcherObserver"+t),r&&(r.disconnect(),i.removeData("__watcherObserver"+t))):clearInterval(u.intervalId)}catch(f){}}),this};n.fn.listSetData=function(t,i){var r={noClear:!1,dataValueField:null,dataTextField:null};return n.extend(r,i),this.each(function(){var u=n(this),f,i;if(t==null){u.children().remove();return}for(r.noClear||u.children().remove(),t.Rows?t=t.Rows:t.rows&&(t=t.rows),f=!1,r.dataTextField||r.dataValueField||(f=!0),x=0;x<t.length;x++)i=t[x],f?u.listAddItem(i,i):u.listAddItem(i[r.dataTextField],i[r.dataValueField])})};n.fn.listAddItem=function(t,i){return this.each(function(){n(this).append(n("<option><\/option>").attr("value",i).text(t))})};n.fn.listSelectItem=function(n){var t,i;if(!(this.length<1)&&(t=this.get(0),t.options)){for(i=t.options.length-1;i>-1;i--)if(t.options[i].value===n){t.options[i].selected=!0;return}return this}};n.fn.listGetSelections=function(n){var r=this.find("option:selected"),t,i;if(n)return r.length>0?t.eq(0).val():null;for(t=[],i=0;i<r.length;i++)t.push(r.eq(i).val());return t};HoverPanel=function(t,i){var r=this,u=n(t),f=u.get(0);this.serverUrl="";this.timeout=2e4;this.controlId=f.id;this.htmlTargetId=f.id;this.queryString="";this.eventHandlerMode="ShowHtmlAtMousePosition";this.postbackMode="Get";this.completed=null;this.errorHandler=null;this.hoverOffsetRight=0;this.hoverOffsetBottom=0;this.panelOpacity=1;this.adjustWindowPosition=!0;this.formName="";this.navigateDelay=0;this.http=null;n.extend(r,i);this.startCallback=function(t,i,u,f){var o,e;try{if(o=(new Date).getTime(),r.busy=o,e=this.serverUrl,t?(r.lastMouseTop=t.clientY,r.lastMouseLeft=t.clientX):r.lastMouseTop=0,r.queryString=i==null?i="":i,f&&(r.errorHandler=f),i?i+="&":i="",i+="__WWEVENTCALLBACK="+r.controlId,r.formName=r.formName||document.forms[0],r.http=new HttpClient,r.timeout=r.timeout,r.http.appendHeader("RequestKey",o),u?u+="&":u="",r.postbackMode=="Post"?u+=n(r.formName).serialize():this.postbackMode=="PostNoViewstate"?u+=n(r.formName).serializeNoViewState():this.postbackMode=="Get"&&u&&(i+=u),i!=""&&(e=e.indexOf("?")>-1?e+"&"+i:e+"?"+i),r.eventHandlerMode=="ShowIFrameAtMousePosition"||r.eventHandlerMode=="ShowIFrameInPanel"){setTimeout(function(){r.busy&&r.showIFrame.call(r,e)},r.navigateDelay);return}setTimeout(function(){r.busy===o&&r.http.send.call(r,e,u,r.onHttpCallback,r.onHttpCallback)},r.navigateDelay)}catch(t){r.onHttpCallback(new CallbackException(t.message))}};this.onHttpCallback=function(n){if(r.busy=-1,r.http&&r.http.status&&r.http.status!=200&&(n=new CallbackException(http.statusText)),n==null&&(n=new CallbackException("No output was returned.")),n.isCallbackError){r.errorHandler&&r.errorHandler(n);return}r.displayResult(n)};this.displayResult=function(n){r.completed&&r.completed(n,r)==!1||(r.eventHandlerMode=="ShowHtmlAtMousePosition"?(r.assignContent(n),r.movePanelToPosition(r.lastMouseLeft+r.hoverOffsetRight,r.lastMouseTop+r.hoverOffsetBottom),r.show()):r.eventHandlerMode=="ShowHtmlInPanel"&&(r.assignContent(n),r.show()))};this.assignContent=function(t){n("#"+r.htmlTargetId).html(t)};this.movePanelToPosition=function(t,i){var f;try{if(u.css("position","absolute"),typeof t=="object"?(r.lastMouseTop=t.clientY,r.lastMouseLeft=t.clientX):typeof t=="number"&&(r.lastMouseTop=i,r.lastMouseLeft=t),t=r.lastMouseLeft+3,i=r.lastMouseTop+3,f=n(window),u.css({left:t+f.scrollLeft(),top:i+f.scrollTop()}),r.adjustWindowPosition&&document.body){var e=f.height(),o=u.outerHeight(),s=f.width(),h=u.outerWidth();e<o?i=0:e<r.lastMouseTop+o&&(i=e-o-10);s<h?t=0:s<r.lastMouseLeft+h&&(t=s-h-25);u.css({left:t+f.scrollLeft(),top:i+f.scrollTop()})}}catch(c){window.status="Moving of window failed: "+c.message}};this.showIFrame=function(t){r.busy=!1;t=t?t:r.serverUrl;n("#"+r.controlId+"_IFrame").attr("src",t).load(r.completed);r.show();r.eventHandlerMode=="ShowIFrameAtMousePosition"&&r.movePanelToPosition(r.lastMouseLeft+r.hoverOffsetRight,r.lastMouseTop+r.hoverOffsetBottom)};this.hide=function(){this.abort();u.hide()};this.abort=function(){r.busy=-1};this.show=function(){u.show().css("opacity",r.panelOpacity)}};_ModalDialog=function(t,i){var r=this,u=n(t),f;(u.length<1&&(u=n("#"+t)),u.length<1)||(this.overlayId="_ModalOverlay",this.contentId=u.get(0).id,this.headerId="",this.backgroundOpacity=.75,this.fadeInBackground=!1,this.zIndex=0,this.jOverlay=null,this.keepCentered=!0,this.dialogHandler=null,n.extend(r,i),f=null,this.show=function(t,i,f){r.contentId&&typeof t=="string"&&(f?n("#"+r.contentId).html(t):n("#"+r.contentId).text(t));r.headerId&&typeof i=="string"&&(f?n("#"+r.headerId).html(i):n("#"+r.headerId).text(i));r.zIndex=r.zIndex>0?r.zIndex:n.maxZIndex();u.css({zIndex:r.zIndex+2}).show().centerInClient();var e=opaqueOverlay({zIndex:r.zIndex+1,sel:"#"+r.overlayId,opacity:r.backgroundOpacity});r.zIndex++;r.fadeInBackground&&e.hide().fadeIn("slow");u.click(r.callback);r.keepCentered&&n(window).bind("resize.modal",function(){u.centerInClient()}).bind("scroll.modal",function(){u.centerInClient()})},this.hide=function(){u.hide();r.keepCentered&&n(window).unbind("resize.modal").unbind("scroll.modal");opaqueOverlay("hide",{sel:"#"+r.overlayId});u.unbind("click");f&&(f.show(),f=null)},this.callback=function(t){if(n(t.target).is(":button,a,.closebox")){if(r.dialogHandler){if(r.dialogHandler.call(t.target,t,r)==!1)return;setTimeout(function(){r.hide()},10);return}setTimeout(function(){r.hide()},10)}})};n.fn.modalDialog=function(t,i,r,u){if(this.length<1)return this;var o=this.get(0),e=n(o),s="modal"+o.id,f=e.data(s);return(f||(f=new _ModalDialog(e,t)),typeof t=="string")?((t=="hide"||t=="close")&&f.hide(),t=="instance"||t=="get")?f:void 0:(f.show(i,r,u),e.data(s,f),this)};n.modalDialog=function(t,i,r,u,f){var e=n("#_MBOX"),h,c,s,o,l;if(e.length<1){for(e=n("<div>").addClass("dialog dragwindow").attr("id","_MBOX").css({width:400}),h=n("<div>").addClass("dialog-header").attr("id","_MBOXHEADER"),c=n("<div>").addClass("dialog-content").attr("id","_MBOXCONTENT"),e.append(h).append(c),s=n("<div>").css("margin","0px 15px 15px"),r||(r=[" Close "]),o=0;o<r.length;o++)l=n("<input type='button' />").attr("id","_BTN_"+o).css("margin-right","5px").val(r[o]),s.append(l);e.append(s).appendTo(document.body)}u||(u=function(){return this.id.substr(0,5)=="_BTN_"||n(this).hasClass("closebox")?!0:!1});e.modalDialog({dialogHandler:u,headerId:"_MBOXHEADER",contentId:"_MBOXCONTENT"},t,i,f).draggable({handle:n("#_MBOX .dialog-header")}).closable({closeHandler:function(){var t=!0;u&&(t=u.call(this));t&&n("#_MBOX").modalDialog("hide")}})};opaqueOverlay=function(t,i){var e=this,u=n(window),r,f;if(this.sel="#_ShadowOverlay",this.opacity=.75,this.zIndex=1e4,n.extend(this,i||t),r=n(sel),t=="hide"){if(r.length<1)return;r.hide();r.get(0).opaqueOverlay=!1;u.unbind("resize.opaque").unbind("scroll.opaque");return}return r.length<1&&(r=n("<div>").attr("id",this.sel.substr(1)).css("background","black").appendTo(document.body)),f=r.get(0),r.show(),f.opaqueOverlay||u.bind("resize.opaque",function(){opaqueOverlay(t)}).bind("scroll.opaque",function(){opaqueOverlay(t)}),f.opaqueOverlay=!0,r.css({top:0+u.scrollTop(),left:0+u.scrollLeft(),position:"absolute",opacity:e.opacity,zIndex:e.zIndex}).width(u.width()).height(u.height()),r};n.fn.draggable||(n.fn.draggable=function(t){return this.each(function(){var r=n(this),i=r.data("draggable");if(typeof t=="string"){i&&t=="remove"&&(i.stopDragging(),r.removeData("draggable"));return}i||(i=new DragBehavior(this,t),r.data("draggable",i))})},i=1,DragBehavior=function(t,r){var u=this,f=n(t),o;this.handle="";this.opacity=.75;this.start=null;this.stop=null;this.dragDelay=100;this.forceAbsolute=!1;n.extend(u,r);u.handle=u.handle?n(u.handle,f):f;u.handle.length<1&&(u.handle=f);var e=!1,s=!1,h=0,c=0,l=1,a=0;this.mouseDown=function(t){var r=u.handle.get(0),o=!1,i;(n(t.target).parents().each(function(){this==r&&(o=!0)}),e||t.target!=r&&!o||n(t.target).is(".closebox,input,textara,a"))||(e=!0,s=!1,i=u.handle.offset(),h=t.pageX-i.left,c=t.pageY-i.top,setTimeout(function(){e&&(f.show().makeAbsolute(u.forceAbsolute),u.dragActivate(t))},u.dragDelay))};o=function(n){n.stopPropagation();n.preventDefault()};this.dragActivate=function(t){e&&(s=!0,u.moveToMouse(t),e=!0,a=f.css("zIndex"),f.css("zIndex",15e4),l=f.css("opacity"),f.css({opacity:u.opacity,cursor:"move"}),n(document).bind("mousemove.dbh",u.mouseMove),n(document).bind("selectstart.dbh",o),n(document).bind("dragstart.dbh",o),n(document.body).bind("dragstart.dbh",o),n(document.body).bind("selectstart.dbh",o),u.handle.bind("selectstart.dbh",o),u.start&&u.start(t,u))};this.dragDeactivate=function(t,r){e&&(e=!1,s)&&(s=!1,r||u.moveToMouse(t),n(document).unbind("mousemove.dbh"),n(document).unbind("selectstart.dbh"),n(document).unbind("dragstart.dbh"),n(document.body).unbind("dragstart.dbh"),n(document.body).unbind("selectstart.dbh"),u.handle.unbind("selectstart.dbh"),r||(i+=10,f.css({zIndex:1e4+i,cursor:"auto"}),f.css("opacity",l),u.stop&&u.stop(t,u)))};this.mouseUp=function(n){u.dragDeactivate(n)};this.mouseMove=function(n){e&&u.moveToMouse(n)};this.moveToMouse=function(n){f.css({left:n.pageX-h,top:n.pageY-c})};this.stopDragging=function(){s&&(u.dragDeactivate(null,!0),n(document).unbind("mousedown",u.mouseDown))};n(document).mousedown(u.mouseDown);n(document).mouseup(u.mouseUp)});n.fn.resizable||(n.fn.resizable=function(t){var i={handleSelector:null,resizeWidth:!0,resizeHeight:!0,resizeWidthFrom:"right",resizeHeightFrom:"bottom",onDragStart:null,onDragEnd:null,onDrag:null,touchActionNone:!0,instanceId:null};return typeof t=="object"&&(i=n.extend(i,t)),this.each(function(){function s(n){n.stopPropagation();n.preventDefault()}function v(t){if(t.preventDefault&&t.preventDefault(),f=l(t),f.width=parseInt(u.width(),10),f.height=parseInt(u.height(),10),o=u.css("transition"),u.css("transition","none"),!r.onDragStart||r.onDragStart(t,u,r)!==!1){n(document).on("mousemove."+r.instanceId,h);n(document).on("mouseup."+r.instanceId,c);if(window.Touch||navigator.maxTouchPoints){n(document).on("touchmove."+r.instanceId,h);n(document).on("touchend."+r.instanceId,c)}n(document).on("selectstart."+r.instanceId,s);n("iframe").css("pointer-events","none")}}function h(n){var t=l(n),i,e;i=r.resizeWidthFrom==="left"?f.width-t.x+f.x:f.width+t.x-f.x;e=r.resizeHeightFrom==="top"?f.height-t.y+f.y:f.height+t.y-f.y;r.onDrag&&r.onDrag(n,u,i,e,r)===!1||(r.resizeHeight&&u.height(e),r.resizeWidth&&u.width(i))}function c(t){if(t.stopPropagation(),t.preventDefault(),n(document).off("mousemove."+r.instanceId),n(document).off("mouseup."+r.instanceId),(window.Touch||navigator.maxTouchPoints)&&(n(document).off("touchmove."+r.instanceId),n(document).off("touchend."+r.instanceId)),n(document).off("selectstart."+r.instanceId,s),n("iframe").css("pointer-events","auto"),u.css("transition",o),r.onDragEnd)r.onDragEnd(t,u,r);return!1}function l(n){var t={x:0,y:0,width:0,height:0};if(typeof n.clientX=="number")t.x=n.clientX,t.y=n.clientY;else if(n.originalEvent.touches)t.x=n.originalEvent.touches[0].clientX,t.y=n.originalEvent.touches[0].clientY;else return null;return t}function a(n,t){return n&&n.trim()[0]===">"?(n=n.trim().replace(/^>\s*/,""),t.find(n)):n?t.parent().find(n):t}var r=n.extend({},i),f,o,u,e;if(r.instanceId||(r.instanceId="rsz_"+(new Date).getTime()),console.log("set: "+r.instanceId),u=n(this),t==="destroy"){if(r=u.data("resizable"),!r)return;console.log("unset: "+r.instanceId);e=a(r.handleSelector,u);e.off("mousedown."+r.instanceId+" touchstart."+r.instanceId);r.touchActionNone&&e.css("touch-action","");u.removeClass("resizable");return}u.data("resizable",r);e=a(r.handleSelector,u);r.touchActionNone&&e.css("touch-action","none");u.addClass("resizable");e.on("mousedown."+r.instanceId+" touchstart."+r.instanceId,v)})});n.fn.closable=function(t){var i={handle:null,closeHandler:null,cssClass:"closebox",imageUrl:null,fadeOut:null};return i=n.extend(i,t),this.each(function(){var t=n(this),u=t.css("position");u&&u!="static"||t.css("position","relative");var e=i.handle?n(i.handle,t).css({position:"relative"}):t,r=t.find("."+i.cssClass),f=!0;r.length<1&&(r=i.imageUrl?n("<img />").attr("src",i.imageUrl).css("cursor","pointer"):n("<div><\/div>"),r.addClass(i.cssClass),f=!1);r.click(function(r){(!i.closeHandler||i.closeHandler.call(this,r))&&(i.fadeOut?n(t).fadeOut(i.fadeOut):n(t).hide())});i.imageUrl&&r.css("background-image","none");f||e.append(r)})};n.fn.contentEditable=function(t){if(!(this.length<1)){var r="0px",i={editClass:null,saveText:"Save",saveHandler:null};return n.extend(i,t),this.each(function(){var t=n(this),u,f;return this.contentEditable=="true"?this:(u=n("<input type='button' value='"+i.saveText+"' class='editablebutton' style='display: block;'/>"),f=function(){i.editClass?t.removeClass(i.editClass):t.css({background:"transparent",padding:r});t.get(0).contentEditable=!1;u.remove()},u.click(function(n){i.saveHandler.call(t.get(0),n)&&f()}),t.keypress(function(n){n.keyCode==27&&f()}),t.after(u).css("margin",2),this.contentEditable=!0,i.editClass?t.addClass(i.editClass):(r=t.css("padding"),t.css({background:"lavender",padding:10})),this)}),this}};n.fn.editable=function(t){if(this.length<1)return this;var i={editClass:null,saveText:"Save",editMode:"text",saveHandler:null,value:null};return n.extend(i,t),this.each(function(){var r=n(this),f,u;return t=="cleanup"?(r.data("cleanupEditor")(),this):r.data("editing")?this:(f=n("<input type='button' />").addClass("editablebutton").css({display:"block"}).val(i.saveText),u=n("<textarea id='_contenteditor'><\/textarea>").css({fontFamily:r.css("font-family"),minHeight:"18px"}),i.value?u.val(i.value):u.val(i.editMode=="text"?r.text():jContext.html()),i.editClass?u.addClass(i.editClass):u.width(r.width()-10).height(r.height()),u.focus().hide().fadeIn("slow").data("editing",r.get(0)).insertBefore(r).keypress(function(n){n.keyCode==27&&cleanupEditor()}),r.data("editing",!0).hide(),r.data("cleanupEditor",function(){u.remove();f.remove();r.data("editing",!1).data("cleanupEditor",null).fadeIn("slow")}),f.click(function(){var n={text:u.val(),cleanup:r.data("cleanupEditor"),button:f,edit:u,content:r};i.saveHandler.call(u.get(0),n)&&cleanupEditor()}),u.after(f).css("margin",2),this)}),this};n.maxZIndex=n.fn.maxZIndex=function(t){var r={inc:10,group:"*"},i;return(n.extend(r,t),i=0,n(r.group).each(function(){var t=parseInt(n(this).css("z-index"));i=t>i?t:i}),!this.jquery)?i:this.each(function(){i+=r.inc;n(this).css("z-index",i)})};r={};parseTemplate=function(n,t){var u="",i,f;try{return i=r[n],i||(f="var p=[];with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").replace(/'(?=[^#]*#>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<#=(.+?)#>/g,"',$1,'").split("<#").join("');").split("#>").join("p.push('")+"');}return p.join('');",i=new Function("obj",f),r[n]=i),i.call(t,t)}catch(e){u=e.message}return"< # ERROR: "+u.htmlEncode()+" # >"};isElementInViewport=function(n){var t=n.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)};getBodyFromHtmlDocument=function(n){return n.replace(/^[\s\S]*<body.*?>|<\/body>[\s\S]*$/ig,"").trimStart().trimEnd()};$$=function(t,i){var r=n("#"+t,i);return r.length<1&&(r=n("[id$=_"+t+"],[id*="+t+"_]",i)),r};String.prototype.htmlEncode=function(){var n=document.createElement("div");return typeof n.textContent=="string"?n.textContent=this.toString():n.innerText=this.toString(),n.innerHTML};String.prototype.trimEnd=function(n){return n?this.replace(new RegExp(n.escapeRegExp()+"*$"),""):this.replace(/\s+$/,"")};String.prototype.trimStart=function(n){return n?this.replace(new RegExp("^"+n.escapeRegExp()+"*"),""):this.replace(/^\s+/,"")};String.prototype.repeat=function(n,t){for(var i="",r=0;r<t;r++)i+=n;return i};String.prototype.padL=function(n,t){if(!n||n<1)return this;t||(t=" ");var i=n-this.length;return i<1?this.substr(0,n):(this.repeat(t,i)+this).substr(0,n)};String.prototype.padR=function(n,t){if(!n||n<1)return this;t||(t=" ");var i=n-this.length;return i<1&&this.substr(0,n),(this+t.repeat(i)).substr(0,n)};String.prototype.startsWith=function(n,t){return!this||this.length===0?!1:n&&t?n.toLowerCase()===this.toLowerCase().substr(0,n.length):n===this.substr(0,n.length)};String.prototype.endsWith=function(n,t){return!this||this.length===0?!1:n&&t?n.toLowerCase()===this.toLowerCase().substr(this.length-n.length,n.length):n===this.substr(this.length-n.length,n.length)};String.prototype.extract=function(n,t,i,r){var f=this,o,u,e;return f.length===0?"":(o=f.toLowerCase(),n=n.toLocaleLowerCase(),t=t.toLocaleLowerCase(),u=o.indexOf(n),u==-1)?"":(e=o.indexOf(t,u+n.length),!i&&e==-1)?"":i&&e==-1?r?f.substr(u):f.substr(u+n.length):r?f.substr(u,e-u+n.length):f.substr(u+n.length,e-u-n.length)};String.prototype.escapeRegExp=function(){return this.replace(/[.*+?^${}()|[\]\/\\]/g,"\\$0")};String.format=function(n){for(var t=0;t<arguments.length;t++)n=n.replace(new RegExp("\\{"+t.toString()+"\\}","g"),arguments[t+1]);return n};String.prototype.format=function(){var t=[this];return n.merge(t,arguments),String.format.apply(this,t)};String.prototype.isNumber=function(){return this.length==0?!1:"0123456789".indexOf(this.charAt(0))>-1?!0:!1};u=["January","February","March","April","May","June","July","August","September","October","November","December"];Date.prototype.formatDate=function(n){var i=this,r,f,t;return n||(n="MM/dd/yyyy"),r=i.getMonth(),f=i.getFullYear(),n.indexOf("yyyy")>-1?n=n.replace("yyyy",f.toString()):n.indexOf("yy")>-1&&(n=n.replace("yy",f.toString().substr(2,2))),n=n.replace("dd",i.getDate().toString().padL(2,"0")),t=i.getHours(),n.indexOf("t")>-1&&(n=t>11?n.replace("t","pm"):n.replace("t","am")),n.indexOf("HH")>-1&&(n=n.replace("HH",t.toString().padL(2,"0"))),n.indexOf("hh")>-1&&(t>12&&(t-=12),t==0&&(t=12),n=n.replace("hh",t.toString().padL(2,"0"))),n.indexOf("mm")>-1&&(n=n.replace("mm",i.getMinutes().toString().padL(2,"0"))),n.indexOf("ss")>-1&&(n=n.replace("ss",i.getSeconds().toString().padL(2,"0"))),n.indexOf("MMMM")>-1?n.replace("MMMM",u[r]):n.indexOf("MMM")>-1?n.replace("MMM",u[r].substr(0,3)):n.replace("MM",(r+1).toString().padL(2,"0"))};Number.prototype.formatNumber=function(n,t){var i=this,u=Number.getNumberFormat(),f,s,r,c;if(n=="c")return i=Math.round(i*100)/100,t=t||"$",i=i.toLocaleString(),f=i.split("."),s=f.length>1?f[1]:"",t+f[0]+u.d+s.padR(2,"0");if(n.charAt(0)=="n"){if(n.length==1||(r=n.substr(1),r=parseInt(r),typeof r!="number"))return i.toLocaleString();i=i.toFixed(r);for(var o=i.split(u.d),e=o[0],l=o.length>1?u.d+o[1]:"",h=/(\d+)(\d{3})/;h.test(e);)e=e.replace(h,"$1"+u.c+"$2");return e+l}return n.charAt(0)=="f"?n.length==1?i.toString():(c=n.substr(1),c=parseFloat(r),typeof r!="number")?i.toString():i.toFixed(r):i.toString()};Number.getNumberFormat=function(n){var i=1000.1.toLocaleString(),t={};return t.d=i.charAt(5),t.d.isNumber()&&(t.d=i.charAt(4)),t.c=i.charAt(1),t.c.isNumber()&&(t.c=","),t.s=n||"$",t};registerNamespace=function(n){for(var i,u=n.split("."),t=window,r=0;r<u.length;r++)i=u[r],t=t[i]?t[i]:t[i]={}};getUrlEncodedKey=function(n,t){t||(t=window.location.search);var r=new RegExp("[?|&]"+n+"=(.*?)&"),i=r.exec(t+"&");return!i||i.length<2?"":decodeURIComponent(i[1].replace("+"," "))};setUrlEncodedKey=function(n,t,i){i=i||window.location.search;var r=i+"&",u=new RegExp("[?|&]"+n+"=.*?&");return u.test(r)?r=r.replace(u,"&"+n+"="+encodeURIComponent(t)+"&"):r+=n+"="+encodeURI(t),r=r.trimStart("&").trimEnd("&"),r.charAt(0)=="?"?r:r="?"+r};n.fn.serializeNoViewState=function(){return this.find("input,textarea,select,hidden").not("#__VIEWSTATE,#__EVENTVALIDATION").serialize()};this.assert||(this.assert=function(n,t){n||(t||(t=""),alert("Assert failed\r\n"+(t?t:"")+"\r\n"+(arguments.callee.caller?"in "+arguments.callee.caller.toString():"")))});n.expr[":"].containsNoCase=function(t,i,r){var u=r[3];return u?new RegExp(u,"i").test(n(t).text()):!1};n.fn.searchFilter=function(t){var i=n.extend({targetSelector:"",charCount:1,onSelected:null},t);return this.each(function(){function r(){var t=n(this).val(),r=n(i.targetSelector);if(r.show(),i.onSelected)i.onSelected(r);t&&t.length>=i.charCount&&r.not(":containsNoCase("+t+")").hide()}var t=n(this);t.keyup(r)})};this.JSON||(this.JSON={}),function(){function r(n){return n<10?"0"+n:n}function s(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=h[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function f(t,r){var c,l,o,a,v=n,h,e=r[t];e&&typeof e=="object"&&typeof e.toJSON=="function"&&(e=e.toJSON(t));typeof i=="function"&&(e=i.call(r,t,e));switch(typeof e){case"string":return s(e);case"number":return isFinite(e)?String(e):"null";case"boolean":case"null":return String(e);case"object":if(!e)return"null";if(n+=u,h=[],Object.prototype.toString.apply(e)==="[object Array]"){for(a=e.length,c=0;c<a;c+=1)h[c]=f(c,e)||"null";return o=h.length===0?"[]":n?"[\n"+n+h.join(",\n"+n)+"\n"+v+"]":"["+h.join(",")+"]",n=v,o}if(i&&typeof i=="object")for(a=i.length,c=0;c<a;c+=1)l=i[c],typeof l=="string"&&(o=f(l,e),o&&h.push(s(l)+(n?": ":":")+o));else for(l in e)Object.hasOwnProperty.call(e,l)&&(o=f(l,e),o&&h.push(s(l)+(n?": ":":")+o));return o=h.length===0?"{}":n?"{\n"+n+h.join(",\n"+n)+"\n"+v+"}":"{"+h.join(",")+"}",n=v,o}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+r(this.getUTCMonth()+1)+"-"+r(this.getUTCDate())+"T"+r(this.getUTCHours())+":"+r(this.getUTCMinutes())+":"+r(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,h={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i;typeof JSON.stringify!="function"&&(JSON.stringify=function(t,r,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(i=r,r&&typeof r!="function"&&(typeof r!="object"||typeof r.length!="number"))throw new Error("JSON.stringify");return f("",{"":t})});typeof JSON.parse!="function"&&(JSON.parse=function(n,i){function u(n,r){var e,o,f=n[r];if(f&&typeof f=="object")for(e in f)Object.hasOwnProperty.call(f,e)&&(o=u(f,e),o!==t?f[e]=o:delete f[e]);return i.call(n,r,f)}var r;if(e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return r=eval("("+n+")"),typeof i=="function"?u({"":r},""):r;throw new SyntaxError("JSON.parse");})}();this.JSON&&!this.JSON.dateParser&&(f=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.{0,1}\d*))(?:Z|(\+|-)([\d|:]*))?$/,e=/^\/Date\((d|-|.*)\)[\/|\\]$/,JSON.parseMsAjaxDate=!1,JSON.useDateParser=function(n){typeof n!="undefined"?JSON._parseSaved&&(JSON.parse=JSON._parseSaved,JSON._parseSaved=null):JSON.parseSaved||(JSON._parseSaved=JSON.parse,JSON.parse=JSON.parseWithDate)},JSON.dateParser=function(n,t){var i,r;if(typeof t=="string"){if(i=f.exec(t),i)return new Date(t);if(!JSON.parseMsAjaxDate)return t;if(i=e.exec(t),i)return r=i[1].split(/[-+,.]/),new Date(r[0]?+r[0]:0-+r[1])}return t},JSON.parseWithDate=function(n){var t=JSON._parseSaved?JSON._parseSaved:JSON.parse;try{return t(n,JSON.dateParser)}catch(i){throw new Error("JSON content could not be parsed");}},JSON.dateStringToDate=function(n,t){var i,r;return(t||(t=null),!n)?t:n.getTime?n:((n[0]==='"'||n[0]==="'")&&(n=n.substr(1,n.length-2)),i=f.exec(n),i)?new Date(n):JSON.parseMsAjaxDate?(i=e.exec(n),i)?(r=i[1].split(/[-,.]/),new Date(+r[0])):t:t})})(jQuery);